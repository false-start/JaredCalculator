$(document).ready(function(){function t(){this.left="",this.right="",this.total=0,this.mode="right",this.display={},this.currentOperator={},this.init()}t.prototype={init:function(){var t=this;this.display=$(".display .value"),$(".numbers").each(function(e,i){$(i).click(function(e){e.preventDefault();var i=$(e.currentTarget).html();t.updateState(i)})}),$(".functions").each(function(e,i){i=$(i),i.click(function(e){e.preventDefault(),$(".functions").removeClass("selected"),i.addClass("selected");var r=i.attr("id");t.updateOperator(r)})}),$(".equals").click($.proxy(function(t){t.preventDefault(),this.execute()},this)),$(".clear").click($.proxy(function(t){t.preventDefault(),this.clear()},this))},updateState:function(t){var e=t||0,i=this.mode;this[i]=this[i]+e.toString(),this.mode=i,this.display.html(this[i])},updateOperator:function(t){switch(t){case"add":this.currentOperator=function(t,e){return t+e};break;case"multiply":this.currentOperator=function(t,e){return t*e};break;case"divide":this.currentOperator=function(t,e){return t/e};break;case"substract":this.currentOperator=function(t,e){return t-e}}this.mode="left"===this.mode?"right":"left"},clear:function(){this.left="0",this.right="0",this.mode="right",$(".functions").removeClass("selected"),this.currentOperator={},this.display.html("0")},execute:function(){var t=this.total||0;t=this.currentOperator.call(this,parseInt(this.left),parseInt(this.right)),this.left=Object.toString(t),this.display.html(t)}};var e=new t});